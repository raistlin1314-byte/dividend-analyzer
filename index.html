<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>故障排查测试</title>
    <style>
        body { font-family: sans-serif; padding: 40px; text-align: center; }
        .success { color: green; font-weight: bold; font-size: 24px; }
        .error { color: red; font-weight: bold; }
        .box { border: 1px solid #ccc; padding: 20px; margin: 20px auto; max-width: 600px; background: #f9f9f9; }
    </style>
</head>
<body>
    <h1>GitHub Pages 连通性测试</h1>
    
    <div class="box">
        <p>1. 基础网页显示：<span class="success">成功 ✅</span></p>
        <p>（如果你能看到这行字，说明 index.html 没问题）</p>
    </div>

    <div class="box">
        <p>2. 数据文件读取测试：</p>
        <p id="data-status">正在尝试读取 stock_pool.json ...</p>
    </div>

    <script>
        // 尝试直接读取同级目录下的数据
        fetch('./data/stock_pool.json')
            .then(response => {
                if (response.ok) {
                    return response.json();
                } else {
                    throw new Error('文件未找到 (404)');
                }
            })
            .then(data => {
                document.getElementById('data-status').innerHTML = 
                    `<span class="success">读取成功 ✅</span><br>找到 ${data.stocks.length} 只股票`;
            })
            .catch(error => {
                document.getElementById('data-status').innerHTML = 
                    `<span class="error">读取失败 ❌</span><br>错误原因：${error.message}<br><br>建议检查：<br>1. 仓库里是否有 "data" 文件夹？<br>2. 文件夹名字是大写 "Data" 吗？(必须小写)`;
            });
    </script>
</body>
</html>